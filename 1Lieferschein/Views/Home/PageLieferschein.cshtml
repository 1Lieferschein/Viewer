@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@model _1Lieferschein.Models.DeliveryNotes.DespatchAdvice


<h5>Anschrift Lieferant</h5>
<dl class="row">
    <dt class="col-sm-4">
        Firmenname
    </dt>
    <dd class="col-sm-8">
        @Html.DisplayFor(model => model.DespatchSupplierParty.Party.PartyLegalEntity.RegistrationName)
    </dd>
    <dt class="col-sm-4">
        Adresse
    </dt>
    <dd class="col-sm-8">
        @Html.DisplayFor(model => model.DespatchSupplierParty.Party.PostalAddress.StreetName)
        @Html.DisplayFor(model => model.DespatchSupplierParty.Party.PostalAddress.AdditionalStreetName)
        @Html.DisplayFor(model => model.DespatchSupplierParty.Party.PostalAddress.PostalZone)
        @Html.DisplayFor(model => model.DespatchSupplierParty.Party.PostalAddress.CityName)
        @Html.DisplayFor(model => model.DespatchSupplierParty.Party.PostalAddress.Country.IdentificationCode)
    </dd>
</dl>

<h5>Anschrift Empfänger</h5>
<dl class="row">
    <dt class="col-sm-4">
        Firmenname
    </dt>
    <dd class="col-sm-8">
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.PartyLegalEntity.RegistrationName)
    </dd>
    <dt class="col-sm-4">
        Kundennummer
    </dt>
    <dd class="col-sm-8">
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.PartyLegalEntity.CompanyID)
    </dd>
    <dt class="col-sm-4">
        Adresse
    </dt>
    <dd class="col-sm-8">
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.PostalAddress.StreetName)
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.PostalAddress.AdditionalStreetName)
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.PostalAddress.PostalZone)
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.PostalAddress.CityName)
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.PostalAddress.Country.IdentificationCode)
    </dd>
    <dt class="col-sm-4">
        Kontakt
    </dt>
    <dd class="col-sm-8">
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.Contact.Name)
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.Contact.Telephone)
        @Html.DisplayFor(model => model.DeliveryCustomerParty.Party.Contact.ElectronicMail)
    </dd>
</dl>

<h5>Lieferung</h5>
<dl class="row">
    <dt class="col-sm-4">
        Lieferadresse
    </dt>
    <dd class="col-sm-8">
        @Html.DisplayFor(model => model.Shipment.Delivery.DeliveryAddress.Address.StreetName)
        @Html.DisplayFor(model => model.Shipment.Delivery.DeliveryAddress.Address.AdditionalStreetName)
        @Html.DisplayFor(model => model.Shipment.Delivery.DeliveryAddress.Address.PostalZone)
        @Html.DisplayFor(model => model.Shipment.Delivery.DeliveryAddress.Address.CityName)
        @Html.DisplayFor(model => model.Shipment.Delivery.DeliveryAddress.Address.Country.IdentificationCode)
    </dd>
    <dt class="col-sm-4">
        Lieferdatum
    </dt>
    <dd class="col-sm-8">
        @Html.DisplayFor(model => model.Shipment.Delivery.ActualDeliveryDate.Date)
    </dd>
</dl>

<h5>Versandartikel</h5>
@foreach (var despatchLine in Model.DespatchLine)
{
    <dl class="row">
        <dt class="col-sm-4">
            Artikelnummer
        </dt>
        <dd class="col-sm-8">
            @despatchLine.ID
        </dd>
        <dt class="col-sm-4">
            Bezeichnung
        </dt>
        <dd class="col-sm-8">
            @despatchLine.Note
        </dd>
        <dt class="col-sm-4">
            Liefermenge
        </dt>
        <dd class="col-sm-8">
            @switch (@despatchLine.DeliveredQuantity.unitCode)
            {
                case "MMT":
                    // mm -> cm -> dm -> m (Faktor 10)
                    var mmtFactor = 10 * 10 * 10;
                    var mmtFormated = float.Parse(@despatchLine.DeliveredQuantity.Value) / mmtFactor;
                    <span>@mmtFormated m</span>
                    break;
                case "MMK":
                    // mm2 -> cm2 -> dm2 -> m2 (Faktor 100)
                    var mmkFactor = 100 * 100 * 100;
                    var mmkFormated = float.Parse(@despatchLine.DeliveredQuantity.Value) / mmkFactor;
                    <span>@mmkFormated m<sup>2</sup></span>
                    break;
                case "MMQ":
                    // mm3 -> cm3 -> dm3 -> m3 (Faktor 1000)
                    var mmqFactor = 1000 * 1000 * 1000;
                    var mmqFormated = float.Parse(@despatchLine.DeliveredQuantity.Value) / mmqFactor;
                    <span>@mmqFormated m<sup>3</sup></span>
                    break;
                case "CMT":
                    // cm -> dm -> m (Faktor 10)
                    var cmtFactor = 10 * 10;
                    var cmtFormated = float.Parse(@despatchLine.DeliveredQuantity.Value) / cmtFactor;
                    <span>@cmtFormated m</span>
                    break;
                case "CMK":
                    // cm2 -> dm2 -> m2 (Faktor 100)
                    var cmkFactor = 100 * 100;
                    var cmkFormated = float.Parse(@despatchLine.DeliveredQuantity.Value) / cmkFactor;
                    <span>@cmkFormated m<sup>2</sup></span>
                    break;
                case "CMQ":
                    // cm3 -> dm3 -> m3 (Faktor 100)
                    var cmqFactor = 1000 * 1000;
                    var cmqFormated = float.Parse(@despatchLine.DeliveredQuantity.Value) / cmqFactor;
                    <span>@cmqFormated m<sup>3</sup></span>
                    break;
                case "DMT":
                    // dm -> m (Faktor 10)
                    var dmtFactor = 10 * 10;
                    var dmtFormated = float.Parse(@despatchLine.DeliveredQuantity.Value) / dmtFactor;
                    <span>@dmtFormated m</span>
                    break;
                case "DMK":
                    // dm2 -> m2 (Faktor 100)
                    var dmkFactor = 100 * 100;
                    var dmkFormated = float.Parse(@despatchLine.DeliveredQuantity.Value) / dmkFactor;
                    <span>@dmkFormated m<sup>2</sup></span>
                    break;
                case "DMQ":
                    // dm3 -> m3 (Faktor 1000)
                    var dmqFactor = 1000 * 1000;
                    var dmqFormated = float.Parse(@despatchLine.DeliveredQuantity.Value) / dmqFactor;
                    <span>@dmqFormated m<sup>3</sup></span>
                    break;
                case "MTR":
                    // m
                    <span>@despatchLine.DeliveredQuantity.Value m</span>
                    break;
                case "MTK":
                    // m2
                    <span>@despatchLine.DeliveredQuantity.Value m<sup>2</sup></span>
                    break;
                case "MTQ":
                    // m3
                    <span>@despatchLine.DeliveredQuantity.Value m<sup>3</sup></span>
                    break;
            }
        </dd>
    </dl>
}
